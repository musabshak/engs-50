#!/bin/bash

errors=False
leaks=False

for i in {1..6}
do
	if [[ $(valgrind --leak-check=full test${i} 2>&1 | grep -c "0 errors") -eq 0 ]] ; then
		 echo "test${i} terminates with an error"
		 errors=True
	fi

	if [[ $(valgrind --leak-check=full test${i} 2>&1 | grep -c "no leaks are possible") -eq 0 ]] ; then
		 echo "test${i} has leaks"
		 leaks=True
	fi
	
	if [[ $errors = "False" && $leaks = "False" ]] ; then
		 echo "test${i} terminates without any leaks or errors"
	fi
done
